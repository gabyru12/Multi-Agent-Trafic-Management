<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Python: module car_agent</title>
</head><body>

<table class="heading">
<tr class="heading-text decor">
<td class="title">&nbsp;<br><strong class="title">car_agent</strong></td>
<td class="extra"><a href=".">index</a><br><a href="file:c%3A%5Cusers%5Cuser%5Conedrive%5Cdocumentos%5Ctraffic%5Ccar_agent.py">c:\users\user\onedrive\documentos\traffic\car_agent.py</a></td></tr></table>
    <p></p>
<p>
<table class="section">
<tr class="decor pkg-content-decor heading-text">
<td class="section-title" colspan=3>&nbsp;<br><strong class="bigsection">Modules</strong></td></tr>
    
<tr><td class="decor pkg-content-decor"><span class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></td><td>&nbsp;</td>
<td class="singlecolumn"><table><tr><td class="multicolumn"><a href="asyncio.html">asyncio</a><br>
</td><td class="multicolumn"><a href="json.html">json</a><br>
</td><td class="multicolumn"><a href="time.html">time</a><br>
</td><td class="multicolumn"></td></tr></table></td></tr></table><p>
<table class="section">
<tr class="decor index-decor heading-text">
<td class="section-title" colspan=3>&nbsp;<br><strong class="bigsection">Classes</strong></td></tr>
    
<tr><td class="decor index-decor"><span class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></td><td>&nbsp;</td>
<td class="singlecolumn"><dl>
<dt class="heading-text"><a href="spade.agent.html#Agent">spade.agent.Agent</a>(<a href="builtins.html#object">builtins.object</a>)
</dt><dd>
<dl>
<dt class="heading-text"><a href="car_agent.html#CarAgent">CarAgent</a>
</dt></dl>
</dd>
</dl>
 <p>
<table class="section">
<tr class="decor title-decor heading-text">
<td class="section-title" colspan=3>&nbsp;<br><a name="CarAgent">class <strong>CarAgent</strong></a>(<a href="spade.agent.html#Agent">spade.agent.Agent</a>)</td></tr>
    
<tr><td class="decor title-decor" rowspan=2><span class="code">&nbsp;&nbsp;&nbsp;</span></td>
<td class="decor title-decor" colspan=2><span class="code"><a href="#CarAgent">CarAgent</a>(jid,&nbsp;password,&nbsp;start_node,&nbsp;starting_road,&nbsp;end_node,&nbsp;travel_weight=0.5,&nbsp;capacity_weight=0.5,&nbsp;periodic_movement=0.1,&nbsp;remove_callback=None)<br>
&nbsp;<br>
<a href="spade.agent.html#Agent">Agent</a>&nbsp;representing&nbsp;a&nbsp;non-priority&nbsp;car&nbsp;in&nbsp;the&nbsp;traffic&nbsp;simulation.<br>
&nbsp;<br>
The&nbsp;car:<br>
&nbsp;&nbsp;-&nbsp;Spawns&nbsp;on&nbsp;a&nbsp;given&nbsp;start&nbsp;node&nbsp;and&nbsp;road.<br>
&nbsp;&nbsp;-&nbsp;Requests&nbsp;lane&nbsp;capacity&nbsp;from&nbsp;the&nbsp;corresponding&nbsp;traffic&nbsp;light.<br>
&nbsp;&nbsp;-&nbsp;Moves&nbsp;forward&nbsp;along&nbsp;its&nbsp;lane&nbsp;until&nbsp;it&nbsp;reaches&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;road.<br>
&nbsp;&nbsp;-&nbsp;Requests&nbsp;possible&nbsp;routes&nbsp;and&nbsp;lane&nbsp;capacities&nbsp;to&nbsp;choose&nbsp;the&nbsp;next&nbsp;road.<br>
&nbsp;&nbsp;-&nbsp;Interacts&nbsp;with&nbsp;traffic&nbsp;lights&nbsp;based&nbsp;on&nbsp;their&nbsp;signals.<br>
&nbsp;&nbsp;-&nbsp;Reacts&nbsp;to&nbsp;the&nbsp;presence&nbsp;of&nbsp;priority&nbsp;vehicles&nbsp;by&nbsp;pulling&nbsp;over&nbsp;if&nbsp;needed.<br>
&nbsp;&nbsp;-&nbsp;Collects&nbsp;various&nbsp;metrics&nbsp;(travel&nbsp;time,&nbsp;distance,&nbsp;waiting&nbsp;times).<br>&nbsp;</span></td></tr>
<tr><td>&nbsp;</td>
<td class="singlecolumn"><dl><dt>Method resolution order:</dt>
<dd><a href="car_agent.html#CarAgent">CarAgent</a></dd>
<dd><a href="spade.agent.html#Agent">spade.agent.Agent</a></dd>
<dd><a href="builtins.html#object">builtins.object</a></dd>
</dl>
<hr>
Methods defined here:<br>
<dl><dt><a name="CarAgent-__init__"><strong>__init__</strong></a>(self, jid, password, start_node, starting_road, end_node, travel_weight=0.5, capacity_weight=0.5, periodic_movement=0.1, remove_callback=None)</dt><dd><span class="code">Initialize&nbsp;a&nbsp;<a href="#CarAgent">CarAgent</a>.<br>
&nbsp;<br>
Parameters<br>
----------<br>
jid&nbsp;:&nbsp;str<br>
&nbsp;&nbsp;&nbsp;&nbsp;XMPP&nbsp;JID&nbsp;of&nbsp;the&nbsp;agent.<br>
password&nbsp;:&nbsp;str<br>
&nbsp;&nbsp;&nbsp;&nbsp;Password&nbsp;for&nbsp;the&nbsp;XMPP&nbsp;server.<br>
start_node&nbsp;:&nbsp;int<br>
&nbsp;&nbsp;&nbsp;&nbsp;ID&nbsp;of&nbsp;the&nbsp;node&nbsp;where&nbsp;the&nbsp;car&nbsp;starts.<br>
starting_road&nbsp;:&nbsp;int<br>
&nbsp;&nbsp;&nbsp;&nbsp;ID&nbsp;of&nbsp;the&nbsp;road&nbsp;where&nbsp;the&nbsp;car&nbsp;initially&nbsp;spawns.<br>
end_node&nbsp;:&nbsp;int<br>
&nbsp;&nbsp;&nbsp;&nbsp;ID&nbsp;of&nbsp;the&nbsp;destination&nbsp;node.<br>
travel_weight&nbsp;:&nbsp;float,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;Weight&nbsp;associated&nbsp;with&nbsp;travel&nbsp;time&nbsp;in&nbsp;route&nbsp;cost&nbsp;calculation.<br>
capacity_weight&nbsp;:&nbsp;float,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;Weight&nbsp;associated&nbsp;with&nbsp;lane&nbsp;capacity&nbsp;in&nbsp;route&nbsp;cost&nbsp;calculation.<br>
periodic_movement&nbsp;:&nbsp;float,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;Time&nbsp;interval&nbsp;(seconds)&nbsp;between&nbsp;movement&nbsp;decisions.<br>
remove_callback&nbsp;:&nbsp;callable,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;Function&nbsp;to&nbsp;call&nbsp;when&nbsp;the&nbsp;agent&nbsp;is&nbsp;removed&nbsp;(despawned).</span></dd></dl>

<dl><dt>async <a name="CarAgent-setup"><strong>setup</strong></a>(self)</dt><dd><span class="code">SPADE&nbsp;setup&nbsp;hook.<br>
&nbsp;<br>
This&nbsp;method:<br>
&nbsp;&nbsp;-&nbsp;Adds&nbsp;the&nbsp;ReceiveMessageBehaviour,&nbsp;which&nbsp;listens&nbsp;to&nbsp;all&nbsp;incoming&nbsp;messages.<br>
&nbsp;&nbsp;-&nbsp;Adds&nbsp;the&nbsp;SpawnCar&nbsp;behaviour,&nbsp;responsible&nbsp;for&nbsp;initial&nbsp;lane&nbsp;setup.<br>
&nbsp;&nbsp;-&nbsp;Initializes&nbsp;metrics&nbsp;such&nbsp;as&nbsp;start&nbsp;road,&nbsp;movement&nbsp;time,&nbsp;and&nbsp;timers.</span></dd></dl>

<hr>
Data and other attributes defined here:<br>
<dl><dt><strong>DriveController</strong> = &lt;class 'car_agent.CarAgent.DriveController'&gt;<dd><span class="code">Periodic&nbsp;behaviour&nbsp;containing&nbsp;the&nbsp;main&nbsp;car&nbsp;driving&nbsp;logic.</span></dl>

<dl><dt><strong>ReceiveMessageBehaviour</strong> = &lt;class 'car_agent.CarAgent.ReceiveMessageBehaviour'&gt;<dd><span class="code">Cyclic&nbsp;behaviour&nbsp;that&nbsp;handles&nbsp;all&nbsp;incoming&nbsp;messages&nbsp;for&nbsp;the&nbsp;car.<br>
&nbsp;<br>
It&nbsp;processes:<br>
&nbsp;&nbsp;-&nbsp;Lane&nbsp;capacity&nbsp;updates.<br>
&nbsp;&nbsp;-&nbsp;Traffic&nbsp;light&nbsp;signals.<br>
&nbsp;&nbsp;-&nbsp;Routes&nbsp;sent&nbsp;by&nbsp;traffic&nbsp;lights.<br>
&nbsp;&nbsp;-&nbsp;Destination&nbsp;reached&nbsp;notifications.<br>
&nbsp;&nbsp;-&nbsp;Priority&nbsp;vehicle&nbsp;warnings&nbsp;and&nbsp;related&nbsp;coordination.</span></dl>

<dl><dt><strong>SpawnCar</strong> = &lt;class 'car_agent.CarAgent.SpawnCar'&gt;<dd><span class="code">One-shot&nbsp;behaviour&nbsp;that&nbsp;sets&nbsp;initial&nbsp;car&nbsp;attributes&nbsp;and&nbsp;registers&nbsp;it&nbsp;in&nbsp;the&nbsp;lane.</span></dl>

<hr>
Methods inherited from <a href="spade.agent.html#Agent">spade.agent.Agent</a>:<br>
<dl><dt><a name="CarAgent-add_behaviour"><strong>add_behaviour</strong></a>(self, behaviour: ~BehaviourType, template: Optional[spade.template.Template] = None) -&gt; None</dt><dd><span class="code">Adds&nbsp;and&nbsp;starts&nbsp;a&nbsp;behaviour&nbsp;to&nbsp;the&nbsp;agent.<br>
If&nbsp;template&nbsp;is&nbsp;not&nbsp;None&nbsp;it&nbsp;is&nbsp;used&nbsp;to&nbsp;match<br>
new&nbsp;messages&nbsp;and&nbsp;deliver&nbsp;them&nbsp;to&nbsp;the&nbsp;behaviour.<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;behaviour&nbsp;(Type[spade.behaviour.CyclicBehaviour]):&nbsp;the&nbsp;behaviour&nbsp;to&nbsp;be&nbsp;started<br>
&nbsp;&nbsp;template&nbsp;(spade.template.Template,&nbsp;optional):&nbsp;the&nbsp;template&nbsp;to&nbsp;match&nbsp;messages&nbsp;with&nbsp;(Default&nbsp;value&nbsp;=&nbsp;None)</span></dd></dl>

<dl><dt><a name="CarAgent-dispatch"><strong>dispatch</strong></a>(self, msg: spade.message.Message) -&gt; List[_asyncio.Task]</dt><dd><span class="code">Dispatch&nbsp;the&nbsp;message&nbsp;to&nbsp;every&nbsp;behaviour&nbsp;that&nbsp;is&nbsp;waiting&nbsp;for<br>
it&nbsp;using&nbsp;their&nbsp;templates&nbsp;match.<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;msg&nbsp;(spade.message.Message):&nbsp;the&nbsp;message&nbsp;to&nbsp;dispatch.<br>
&nbsp;<br>
Returns:<br>
&nbsp;&nbsp;&nbsp;&nbsp;list(asyncio.Future):&nbsp;a&nbsp;list&nbsp;of&nbsp;tasks&nbsp;for&nbsp;each&nbsp;message&nbsp;queuing&nbsp;in&nbsp;each&nbsp;matching&nbsp;behavior.</span></dd></dl>

<dl><dt><a name="CarAgent-get"><strong>get</strong></a>(self, name: str) -&gt; Any</dt><dd><span class="code">Recovers&nbsp;a&nbsp;knowledge&nbsp;item&nbsp;from&nbsp;the&nbsp;agent's&nbsp;knowledge&nbsp;base.<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;<a href="#CarAgent-name">name</a>(str):&nbsp;name&nbsp;of&nbsp;the&nbsp;item<br>
&nbsp;<br>
Returns:<br>
&nbsp;&nbsp;object:&nbsp;the&nbsp;object&nbsp;retrieved&nbsp;or&nbsp;None</span></dd></dl>

<dl><dt><a name="CarAgent-has_behaviour"><strong>has_behaviour</strong></a>(self, behaviour: Type[spade.behaviour.CyclicBehaviour]) -&gt; bool</dt><dd><span class="code">Checks&nbsp;if&nbsp;a&nbsp;behaviour&nbsp;is&nbsp;added&nbsp;to&nbsp;an&nbsp;agent.<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;behaviour&nbsp;(Type[spade.behaviour.CyclicBehaviour]):&nbsp;the&nbsp;behaviour&nbsp;instance&nbsp;to&nbsp;check<br>
&nbsp;<br>
Returns:<br>
&nbsp;&nbsp;bool:&nbsp;a&nbsp;boolean&nbsp;that&nbsp;indicates&nbsp;wether&nbsp;the&nbsp;behaviour&nbsp;is&nbsp;inside&nbsp;the&nbsp;agent.</span></dd></dl>

<dl><dt><a name="CarAgent-is_alive"><strong>is_alive</strong></a>(self) -&gt; bool</dt><dd><span class="code">Checks&nbsp;if&nbsp;the&nbsp;agent&nbsp;is&nbsp;alive.<br>
&nbsp;<br>
Returns:<br>
&nbsp;&nbsp;bool:&nbsp;wheter&nbsp;the&nbsp;agent&nbsp;is&nbsp;alive&nbsp;or&nbsp;not</span></dd></dl>

<dl><dt><a name="CarAgent-remove_behaviour"><strong>remove_behaviour</strong></a>(self, behaviour: Type[spade.behaviour.CyclicBehaviour]) -&gt; None</dt><dd><span class="code">Removes&nbsp;a&nbsp;behaviour&nbsp;from&nbsp;the&nbsp;agent.<br>
The&nbsp;behaviour&nbsp;is&nbsp;first&nbsp;killed.<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;behaviour&nbsp;(Type[spade.behaviour.CyclicBehaviour]):&nbsp;the&nbsp;behaviour&nbsp;instance&nbsp;to&nbsp;be&nbsp;removed</span></dd></dl>

<dl><dt><a name="CarAgent-set"><strong>set</strong></a>(self, name: str, value: Any)</dt><dd><span class="code">Stores&nbsp;a&nbsp;knowledge&nbsp;item&nbsp;in&nbsp;the&nbsp;agent&nbsp;knowledge&nbsp;base.<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;name&nbsp;(str):&nbsp;name&nbsp;of&nbsp;the&nbsp;item<br>
&nbsp;&nbsp;value&nbsp;(object):&nbsp;value&nbsp;of&nbsp;the&nbsp;item</span></dd></dl>

<dl><dt><a name="CarAgent-set_container"><strong>set_container</strong></a>(self, container: spade.container.Container) -&gt; None</dt><dd><span class="code">Sets&nbsp;the&nbsp;container&nbsp;to&nbsp;which&nbsp;the&nbsp;agent&nbsp;is&nbsp;attached<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;container&nbsp;(spade.container.Container):&nbsp;the&nbsp;container&nbsp;to&nbsp;be&nbsp;attached&nbsp;to</span></dd></dl>

<dl><dt><a name="CarAgent-set_loop"><strong>set_loop</strong></a>(self, loop) -&gt; None</dt></dl>

<dl><dt>async <a name="CarAgent-start"><strong>start</strong></a>(self, auto_register: bool = True) -&gt; None</dt><dd><span class="code">Starts&nbsp;this&nbsp;agent.<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;auto_register&nbsp;(bool):&nbsp;register&nbsp;the&nbsp;agent&nbsp;in&nbsp;the&nbsp;server&nbsp;(Default&nbsp;value&nbsp;=&nbsp;True)<br>
&nbsp;<br>
Returns:<br>
&nbsp;&nbsp;&nbsp;&nbsp;None</span></dd></dl>

<dl><dt>async <a name="CarAgent-stop"><strong>stop</strong></a>(self) -&gt; None</dt><dd><span class="code">Stops&nbsp;this&nbsp;agent.</span></dd></dl>

<dl><dt><a name="CarAgent-submit"><strong>submit</strong></a>(self, coro: Coroutine) -&gt; _asyncio.Task</dt><dd><span class="code">Runs&nbsp;a&nbsp;coroutine&nbsp;in&nbsp;the&nbsp;event&nbsp;loop&nbsp;of&nbsp;the&nbsp;agent.<br>
this&nbsp;call&nbsp;is&nbsp;not&nbsp;blocking.<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;coro&nbsp;(Coroutine):&nbsp;the&nbsp;coroutine&nbsp;to&nbsp;be&nbsp;run<br>
&nbsp;<br>
Returns:<br>
&nbsp;&nbsp;&nbsp;&nbsp;asyncio.Task:&nbsp;the&nbsp;Task&nbsp;assigned&nbsp;to&nbsp;the&nbsp;coroutine&nbsp;execution</span></dd></dl>

<hr>
Static methods inherited from <a href="spade.agent.html#Agent">spade.agent.Agent</a>:<br>
<dl><dt><a name="CarAgent-build_avatar_url"><strong>build_avatar_url</strong></a>(jid: str) -&gt; str</dt><dd><span class="code">Static&nbsp;method&nbsp;to&nbsp;build&nbsp;a&nbsp;gravatar&nbsp;url&nbsp;with&nbsp;the&nbsp;agent's&nbsp;JID<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;jid&nbsp;(aioxmpp.JID):&nbsp;an&nbsp;XMPP&nbsp;identifier<br>
&nbsp;<br>
Returns:<br>
&nbsp;&nbsp;str:&nbsp;a&nbsp;URL&nbsp;for&nbsp;the&nbsp;gravatar</span></dd></dl>

<hr>
Readonly properties inherited from <a href="spade.agent.html#Agent">spade.agent.Agent</a>:<br>
<dl><dt><strong>avatar</strong></dt>
<dd><span class="code">Generates&nbsp;a&nbsp;unique&nbsp;avatar&nbsp;for&nbsp;the&nbsp;agent&nbsp;based&nbsp;on&nbsp;its&nbsp;JID.<br>
Uses&nbsp;Gravatar&nbsp;service&nbsp;with&nbsp;MonsterID&nbsp;option.<br>
&nbsp;<br>
Returns:<br>
&nbsp;&nbsp;str:&nbsp;the&nbsp;url&nbsp;of&nbsp;the&nbsp;agent's&nbsp;avatar</span></dd>
</dl>
<dl><dt><strong>name</strong></dt>
<dd><span class="code">Returns&nbsp;the&nbsp;name&nbsp;of&nbsp;the&nbsp;agent&nbsp;(the&nbsp;string&nbsp;before&nbsp;the&nbsp;'@')<br>
&nbsp;<br>
Returns:<br>
&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;the&nbsp;name&nbsp;of&nbsp;the&nbsp;agent&nbsp;(the&nbsp;string&nbsp;before&nbsp;the&nbsp;'@')</span></dd>
</dl>
<hr>
Data descriptors inherited from <a href="spade.agent.html#Agent">spade.agent.Agent</a>:<br>
<dl><dt><strong>__dict__</strong></dt>
<dd><span class="code">dictionary&nbsp;for&nbsp;instance&nbsp;variables&nbsp;(if&nbsp;defined)</span></dd>
</dl>
<dl><dt><strong>__weakref__</strong></dt>
<dd><span class="code">list&nbsp;of&nbsp;weak&nbsp;references&nbsp;to&nbsp;the&nbsp;object&nbsp;(if&nbsp;defined)</span></dd>
</dl>
</td></tr></table></td></tr></table>
</body></html>